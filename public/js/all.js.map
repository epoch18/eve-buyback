{"version":3,"sources":["collect.js","string-format.js","manage-motd.js","manage-items.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["function collect() {\n\tvar ret = {};\n\tvar len = arguments.length;\n\tfor (var i=0; i<len; i++) {\n\t\tfor (p in arguments[i]) {\n\t\t\tif (arguments[i].hasOwnProperty(p)) {\n\t\t\t\tret[p] = arguments[i][p];\n\t\t\t}\n\t\t}\n\t}\n\treturn ret;\n}\n","$(document).ready(function() {\n\tif (!String.prototype.format) {\n\t\tString.prototype.format = function() {\n\t\t\tvar args = arguments;\n\n\t\t\treturn this.replace(/{(\\d+)}/g, function(match, number) {\n\t\t\t\treturn typeof args[number] != 'undefined' ? args[number] : match;\n\t\t\t});\n\t\t};\n\t}\n});\n","function initManageMotd(args) {\n\tvar form = $(\"#manage-form-motd\");\n\n\tform.submit(function () {\n\t\tvar button = $(\"#manage-form-motd #submit\");\n\n\t\tbutton.prop('disabled', true);\n\t\tbutton.html('<span class=\"fa fa-spinner fa-spin\"></span> ' + args.trans.buttons.edit);\n\n\t\t$.ajax({\n\t\t\ttype: \"POST\",\n\t\t\turl: args.actions.editMotd,\n\t\t\tdata: form.serialize(),\n\n\t\t\tsuccess: function(response) {\n\t\t\t\t$.notify(response.message, {className: 'success'});\n\n\t\t\t\tbutton.prop('disabled', false);\n\t\t\t\tbutton.html(args.trans.buttons.edit);\n\t\t\t},\n\n\t\t\terror: function(request, status, error) {\n\t\t\t\tvar response = JSON.parse(request.responseText);\n\n\t\t\t\t$.notify(response.message, {className: 'error'});\n\n\t\t\t\tbutton.prop('disabled', false);\n\t\t\t\tbutton.html(args.trans.buttons.edit);\n\t\t\t},\n\t\t});\n\n\t\treturn false;\n\t});\n}\n","function initManageItems(args) {\n\tvar table = $('#manage-form-items').DataTable({\n\t\tdom: \"lBfrtip\",\n\t\tajax: args.actions.getItems,\n\t\tsAjaxDataProp: \"\",\n\t\tcolumns: [\n\t\t\t{\n\t\t\t\tdata: null,\n\t\t\t\tdefaultContent: '',\n\t\t\t\tclassName: 'select-checkbox',\n\t\t\t\torderable: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"type.typeName\",\n\t\t\t\trender: function (data, type, row, meta) {\n\t\t\t\t\tif (type != \"display\") { return data; }\n\n\t\t\t\t\treturn '<img src=\"https://image.eveonline.com/Type/'+row.typeID+'_32.png\"> '+data;\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"type.group.groupName\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"type.group.category.categoryName\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"buyRaw\",\n\t\t\t\trender: function (data, type, row, meta) {\n\t\t\t\t\tif (type != \"display\") { return data; }\n\n\t\t\t\t\treturn data == true\n\t\t\t\t\t\t? '<span class=\"fa fa-fw fa-check-square-o\"></span>'\n\t\t\t\t\t\t: '<span class=\"fa fa-fw fa-square-o\"></span>';\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"buyRecycled\",\n\t\t\t\trender: function (data, type, row, meta) {\n\t\t\t\t\tif (type != \"display\") { return data; }\n\n\t\t\t\t\treturn data == true\n\t\t\t\t\t\t? '<span class=\"fa fa-fw fa-check-square-o\"></span>'\n\t\t\t\t\t\t: '<span class=\"fa fa-fw fa-square-o\"></span>';\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"buyRefined\",\n\t\t\t\trender: function (data, type, row, meta) {\n\t\t\t\t\tif (type != \"display\") { return data; }\n\n\t\t\t\t\treturn data == true\n\t\t\t\t\t\t? '<span class=\"fa fa-fw fa-check-square-o\"></span>'\n\t\t\t\t\t\t: '<span class=\"fa fa-fw fa-square-o\"></span>';\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"buyModifier\",\n\t\t\t\trender: function (data, type, row, meta) {\n\t\t\t\t\tif (type != \"display\") { return data; }\n\n\t\t\t\t\treturn data.toFixed(2);\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"buyPrice\",\n\t\t\t\trender: function (data, type, row, meta) {\n\t\t\t\t\tif (type != \"display\") { return data; }\n\n\t\t\t\t\treturn data.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")+' ISK';\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"sell\",\n\t\t\t\trender: function (data, type, row, meta) {\n\t\t\t\t\tif (type != \"display\") { return data; }\n\n\t\t\t\t\treturn data == true\n\t\t\t\t\t\t? '<span class=\"fa fa-fw fa-check-square-o\"></span>'\n\t\t\t\t\t\t: '<span class=\"fa fa-fw fa-square-o\"></span>';\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"sellModifier\",\n\t\t\t\trender: function (data, type, row, meta) {\n\t\t\t\t\tif (type != \"display\") { return data; }\n\n\t\t\t\t\treturn data.toFixed(2);\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"sellPrice\",\n\t\t\t\trender: function (data, type, row, meta) {\n\t\t\t\t\tif (type != \"display\") { return data; }\n\n\t\t\t\t\treturn data.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")+' ISK';\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"lockPrices\",\n\t\t\t\trender: function (data, type, row, meta) {\n\t\t\t\t\tif (type != \"display\") { return data; }\n\n\t\t\t\t\treturn data == true\n\t\t\t\t\t\t? '<span class=\"fa fa-fw fa-check-square-o\"></span>'\n\t\t\t\t\t\t: '<span class=\"fa fa-fw fa-square-o\"></span>';\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\tselect: {\n\t\t\tstyle:    \"multi\",\n\t\t\tselector: \"td:first-child\",\n\t\t},\n\t\tbuttons: [\n\t\t\t\"selectAll\",\n\t\t\t\"selectNone\",\n\t\t\t{\n\t\t\t\ttext: args.trans.buttons.add,\n\t\t\t\taction: function (e, dt, node, config) {\n\t\t\t\t\tvar form = ''\n\t\t\t\t\t\t+ '<div class=\"row\">'\n\t\t\t\t\t\t+ '\t<div class=\"col-md-12\">'\n\t\t\t\t\t\t+ '\t\t<form id=\"manage-form-add-items\" class=\"form-horizontal\">'\n\t\t\t\t\t\t+ '\t\t\t<input type=\"hidden\" name=\"_token\" value=\"'+args.token+'\">'\n\t\t\t\t\t\t+ '\t\t\t<div class=\"form-group\">'\n\t\t\t\t\t\t+ '\t\t\t\t<label class=\"col-md-4 control-label\">'+args.trans.headers.types.split('|')[1]+'</label>'\n\t\t\t\t\t\t+ '\t\t\t\t<div class=\"col-md-8\">'\n\t\t\t\t\t\t+ '\t\t\t\t\t<select id=\"types\" name=\"types[]\" class=\"form-control\" multiple=\"multiple\"></select>'\n\t\t\t\t\t\t+ '\t\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t<div class=\"form-group\">'\n\t\t\t\t\t\t+ '\t\t\t\t<label class=\"col-md-4 control-label\">'+args.trans.headers.groups.split('|')[1]+'</label>'\n\t\t\t\t\t\t+ '\t\t\t\t<div class=\"col-md-8\">'\n\t\t\t\t\t\t+ '\t\t\t\t\t<select id=\"groups\" name=\"groups[]\" class=\"form-control\" multiple=\"multiple\"></select>'\n\t\t\t\t\t\t+ '\t\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t<div class=\"form-group\">'\n\t\t\t\t\t\t+ '\t\t\t\t<label class=\"col-md-4 control-label\">'+args.trans.headers.categories.split('|')[1]+'</label>'\n\t\t\t\t\t\t+ '\t\t\t\t<div class=\"col-md-8\">'\n\t\t\t\t\t\t+ '\t\t\t\t\t<select id=\"categories\" name=\"categories[]\" class=\"form-control\" multiple=\"multiple\"></select>'\n\t\t\t\t\t\t+ '\t\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t</div>'\n\t\t\t\t\t\t// Copy of update items form below minus prices.\n\t\t\t\t\t\t+ '\t\t\t<div class=\"form-group\">'\n\t\t\t\t\t\t+ '\t\t\t\t<label class=\"col-md-4 control-label\">'+args.trans.headers.buy_settings+'</label>'\n\t\t\t\t\t\t+ '\t\t\t\t<div class=\"col-md-8\">'\n\t\t\t\t\t\t+ '\t\t\t\t\t<div class=\"checkbox\"><label><input type=\"checkbox\" name=\"buyRaw\"     >'+args.trans.messages.buy_raw     .split('|')[1]+'</label></div>'\n\t\t\t\t\t\t+ '\t\t\t\t\t<div class=\"checkbox\"><label><input type=\"checkbox\" name=\"buyRecycled\">'+args.trans.messages.buy_recycled.split('|')[1]+'</label></div>'\n\t\t\t\t\t\t+ '\t\t\t\t\t<div class=\"checkbox\"><label><input type=\"checkbox\" name=\"buyRefined\" >'+args.trans.messages.buy_refined .split('|')[1]+'</label></div>'\n\t\t\t\t\t\t+ '\t\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t<div class=\"form-group\">'\n\t\t\t\t\t\t+ '\t\t\t\t<label class=\"col-md-4 control-label\">'+args.trans.headers.buy_modifier+'</label>'\n\t\t\t\t\t\t+ '\t\t\t\t<div class=\"col-md-8\">'\n\t\t\t\t\t\t+ '\t\t\t\t\t<input class=\"form-control\" type=\"number\" name=\"buyModifier\" min=\"0\" step=\"0.01\" value=\"\">'\n\t\t\t\t\t\t+ '\t\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t<div class=\"form-group\">'\n\t\t\t\t\t\t+ '\t\t\t\t<label class=\"col-md-4 control-label\">'+args.trans.headers.sell_settings+'</label>'\n\t\t\t\t\t\t+ '\t\t\t\t<div class=\"col-md-8\">'\n\t\t\t\t\t\t+ '\t\t\t\t\t<div class=\"checkbox\"><label><input type=\"checkbox\" name=\"sell\">'+args.trans.messages.sell_items.split('|')[1]+'</label></div>'\n\t\t\t\t\t\t+ '\t\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t<div class=\"form-group\">'\n\t\t\t\t\t\t+ '\t\t\t\t<label class=\"col-md-4 control-label\">'+args.trans.headers.sell_modifier+'</label>'\n\t\t\t\t\t\t+ '\t\t\t\t<div class=\"col-md-8\">'\n\t\t\t\t\t\t+ '\t\t\t\t\t<input class=\"form-control\" type=\"number\" name=\"sellModifier\" min=\"0\" step=\"0.01\" value=\"\">'\n\t\t\t\t\t\t+ '\t\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t<div class=\"form-group\">'\n\t\t\t\t\t\t+ '\t\t\t\t<label class=\"col-md-4 control-label\">'+args.trans.headers.item_settings+'</label>'\n\t\t\t\t\t\t+ '\t\t\t\t<div class=\"col-md-8\">'\n\t\t\t\t\t\t+ '\t\t\t\t\t<div class=\"checkbox\"><label><input type=\"checkbox\" name=\"lockPrices\">'+args.trans.messages.lock_prices+'</label></div>'\n\t\t\t\t\t\t+ '\t\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t</div>'\n\t\t\t\t\t\t// End of update items form.\n\t\t\t\t\t\t+ '\t\t</form>'\n\t\t\t\t\t\t+ '\t</div>'\n\t\t\t\t\t\t+ '</div>'\n\t\t\t\t\t;\n\n\t\t\t\t\tvar box = bootbox.dialog({\n\t\t\t\t\t\tmessage: form,\n\t\t\t\t\t\ttitle: args.trans.messages.add_items.split('|')[1],\n\t\t\t\t\t\tbuttons: {\n\t\t\t\t\t\t\tcancel: {\n\t\t\t\t\t\t\t\tlabel: args.trans.buttons.cancel,\n\t\t\t\t\t\t\t\tclassName: \"btn-default\",\n\t\t\t\t\t\t\t\tcallback: function() {\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tupdate: {\n\t\t\t\t\t\t\t\tlabel: args.trans.buttons.add,\n\t\t\t\t\t\t\t\tclassName: \"btn-success\",\n\t\t\t\t\t\t\t\tcallback: function() {\n\t\t\t\t\t\t\t\t\tvar form   = $(\"#manage-form-add-items\");\n\t\t\t\t\t\t\t\t\tvar button = table.button(2);\n\n\t\t\t\t\t\t\t\t\tbutton.enable(false);\n\t\t\t\t\t\t\t\t\tbutton.text('<span class=\"fa fa-spinner fa-spin\"></span> ' + args.trans.buttons.add);\n\n\t\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\t\t\t\t\t\turl: args.actions.addItems,\n\t\t\t\t\t\t\t\t\t\tdata: form.serialize(),\n\n\t\t\t\t\t\t\t\t\t\tsuccess: function(response) {\n\t\t\t\t\t\t\t\t\t\t\t$.notify(response.message, {className: 'success'});\n\n\t\t\t\t\t\t\t\t\t\t\tbutton.enable(true);\n\t\t\t\t\t\t\t\t\t\t\tbutton.text(args.trans.buttons.add);\n\n\t\t\t\t\t\t\t\t\t\t\tdt.ajax.reload();\n\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\terror: function(request, status, error) {\n\t\t\t\t\t\t\t\t\t\t\tvar response = JSON.parse(request.responseText);\n\n\t\t\t\t\t\t\t\t\t\t\t$.notify(response.message, {className: 'error'});\n\n\t\t\t\t\t\t\t\t\t\t\tbutton.enable(true);\n\t\t\t\t\t\t\t\t\t\t\tbutton.text(args.trans.buttons.add);\n\n\t\t\t\t\t\t\t\t\t\t\tdt.ajax.reload();\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\n\t\t\t\t\tbox.bind('shown.bs.modal', function () {\n\t\t\t\t\t\t$(\"#manage-form-add-items #types\").select2({\n\t\t\t\t\t\t\tajax: {\n\t\t\t\t\t\t\t\turl: args.actions.getTypes,\n\t\t\t\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\t\t\t\tdelay: 250,\n\t\t\t\t\t\t\t\tminimumInputLength: 3,\n\t\t\t\t\t\t\t\tdata: function (params) {\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\tquery: params.term,\n\t\t\t\t\t\t\t\t\t\tpage : params.page,\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tprocessResults: function (data, params) {\n\t\t\t\t\t\t\t\t\tparams.page = params.page || 1;\n\n\t\t\t\t\t\t\t\t\t$.map(data.data, function (obj) {\n\t\t\t\t\t\t\t\t\t\tobj.id   = obj.typeID;\n\t\t\t\t\t\t\t\t\t\tobj.text = obj.typeName;\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\tresults: data.data,\n\t\t\t\t\t\t\t\t\t\tpagination: {\n\t\t\t\t\t\t\t\t\t\t\tmore: (params.page * 20) < data.total\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcache: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttemplateResult: function (state) {\n\t\t\t\t\t\t\t\tif (!state.id) { return state.text; }\n\n\t\t\t\t\t\t\t\treturn $('<span><img src=\"https://image.eveonline.com/Type/'+state.typeID+'_32.png\"> '+state.typeName+'</span>');\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}); // #manage-form-add-items #types\n\n\t\t\t\t\t\t$(\"#manage-form-add-items #groups\").select2({\n\t\t\t\t\t\t\tajax: {\n\t\t\t\t\t\t\t\turl: args.actions.getGroups,\n\t\t\t\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\t\t\t\tdelay: 250,\n\t\t\t\t\t\t\t\tminimumInputLength: 3,\n\t\t\t\t\t\t\t\tdata: function (params) {\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\tquery: params.term,\n\t\t\t\t\t\t\t\t\t\tpage : params.page,\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tprocessResults: function (data, params) {\n\t\t\t\t\t\t\t\t\tparams.page = params.page || 1;\n\n\t\t\t\t\t\t\t\t\t$.map(data.data, function (obj) {\n\t\t\t\t\t\t\t\t\t\tobj.id   = obj.groupID;\n\t\t\t\t\t\t\t\t\t\tobj.text = obj.groupName;\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\tresults: data.data,\n\t\t\t\t\t\t\t\t\t\tpagination: {\n\t\t\t\t\t\t\t\t\t\t\tmore: (params.page * 20) < data.total\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcache: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttemplateResult: function (state) {\n\t\t\t\t\t\t\t\tif (!state.id) { return state.text; }\n\n\t\t\t\t\t\t\t\treturn $('<span>'+state.groupName+'</span>');\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}); // #manage-form-add-items #groups\n\n\t\t\t\t\t\t$(\"#manage-form-add-items #categories\").select2({\n\t\t\t\t\t\t\tajax: {\n\t\t\t\t\t\t\t\turl: args.actions.getCategories,\n\t\t\t\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\t\t\t\tdelay: 250,\n\t\t\t\t\t\t\t\tminimumInputLength: 3,\n\t\t\t\t\t\t\t\tdata: function (params) {\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\tquery: params.term,\n\t\t\t\t\t\t\t\t\t\tpage : params.page,\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tprocessResults: function (data, params) {\n\t\t\t\t\t\t\t\t\tparams.page = params.page || 1;\n\n\t\t\t\t\t\t\t\t\t$.map(data.data, function (obj) {\n\t\t\t\t\t\t\t\t\t\tobj.id   = obj.categoryID;\n\t\t\t\t\t\t\t\t\t\tobj.text = obj.categoryName;\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\tresults: data.data,\n\t\t\t\t\t\t\t\t\t\tpagination: {\n\t\t\t\t\t\t\t\t\t\t\tmore: (params.page * 20) < data.total\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcache: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttemplateResult: function (state) {\n\t\t\t\t\t\t\t\tif (!state.id) { return state.text; }\n\n\t\t\t\t\t\t\t\treturn $('<span>'+state.categoryName+'</span>');\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}); // #manage-form-add-items #categories\n\t\t\t\t\t});\n\n\t\t\t\t\tdt.ajax.reload();\n\t\t\t\t},\n\t\t\t\tenabled: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttext: args.trans.buttons.edit,\n\t\t\t\taction: function (e, dt, node, config) {\n\t\t\t\t\tvar data  = table.rows('.selected').data();\n\t\t\t\t\tvar types = \"\";\n\n\t\t\t\t\t$.each(data, function (index, item) {\n\t\t\t\t\t\ttypes += item.typeID + \",\";\n\t\t\t\t\t}); types  = types.substr(0, types.length - 1);\n\n\t\t\t\t\tvar title = args.trans.messages.edit_items.split('|')[data.count() == 1 ? 0 : 1];\n\n\t\t\t\t\tvar form = ''\n\t\t\t\t\t\t+ '<div class=\"row\">'\n\t\t\t\t\t\t+ '\t<div class=\"col-md-12\">'\n\t\t\t\t\t\t+ '\t\t<form id=\"manage-form-update-items\" class=\"form-horizontal\" action=\"'+args.actions.editItems+'\" method=\"POST\">'\n\t\t\t\t\t\t+ '\t\t\t<input type=\"hidden\" name=\"_token\" value=\"'+args.token+'\">'\n\t\t\t\t\t\t+ '\t\t\t<input type=\"hidden\" name=\"items\" value=\"'+(types)+'\">'\n\t\t\t\t\t\t+ '\t\t\t<div class=\"form-group\">'\n\t\t\t\t\t\t+ '\t\t\t\t<label class=\"col-md-4 control-label\">'+args.trans.headers.buy_settings+'</label>'\n\t\t\t\t\t\t+ '\t\t\t\t<div class=\"col-md-8\">'\n\t\t\t\t\t\t+ '\t\t\t\t\t<div class=\"checkbox\"><label><input type=\"checkbox\" name=\"buyRaw\"     '+(data[0].buyRaw      ? ' checked' : '')+'>'+args.trans.messages.buy_raw     .split('|')[data.count() == 1 ? 0 : 1]+'</label></div>'\n\t\t\t\t\t\t+ '\t\t\t\t\t<div class=\"checkbox\"><label><input type=\"checkbox\" name=\"buyRecycled\"'+(data[0].buyRecycled ? ' checked' : '')+'>'+args.trans.messages.buy_recycled.split('|')[data.count() == 1 ? 0 : 1]+'</label></div>'\n\t\t\t\t\t\t+ '\t\t\t\t\t<div class=\"checkbox\"><label><input type=\"checkbox\" name=\"buyRefined\" '+(data[0].buyRefined  ? ' checked' : '')+'>'+args.trans.messages.buy_refined .split('|')[data.count() == 1 ? 0 : 1]+'</label></div>'\n\t\t\t\t\t\t+ '\t\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t<div class=\"form-group\">'\n\t\t\t\t\t\t+ '\t\t\t\t<label class=\"col-md-4 control-label\">'+args.trans.headers.buy_modifier+'</label>'\n\t\t\t\t\t\t+ '\t\t\t\t<div class=\"col-md-8\">'\n\t\t\t\t\t\t+ '\t\t\t\t\t<input class=\"form-control\" type=\"number\" name=\"buyModifier\" min=\"0\" step=\"0.01\" value=\"'+(data[0].buyModifier)+'\">'\n\t\t\t\t\t\t+ '\t\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t</div>'\n\t\t\t\t\t\t+ (data.count() == 1 ?\n\t\t\t\t\t\t  '\t\t\t<div class=\"form-group\">'\n\t\t\t\t\t\t+ '\t\t\t\t<label class=\"col-md-4 control-label\">'+args.trans.headers.buy_price+'</label>'\n\t\t\t\t\t\t+ '\t\t\t\t<div class=\"col-md-8\">'\n\t\t\t\t\t\t+ '\t\t\t\t\t<input class=\"form-control\" type=\"number\" name=\"buyPrice\" min=\"0\" value=\"'+(data[0].buyPrice)+'\">'\n\t\t\t\t\t\t+ '\t\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t</div>' : '')\n\t\t\t\t\t\t+ '\t\t\t<div class=\"form-group\">'\n\t\t\t\t\t\t+ '\t\t\t\t<label class=\"col-md-4 control-label\">'+args.trans.headers.sell_settings+'</label>'\n\t\t\t\t\t\t+ '\t\t\t\t<div class=\"col-md-8\">'\n\t\t\t\t\t\t+ '\t\t\t\t\t<div class=\"checkbox\"><label><input type=\"checkbox\" name=\"sell\"'+(data[0].sell ? ' checked' : '')+'>'+args.trans.messages.sell_items.split('|')[1]+'</label></div>'\n\t\t\t\t\t\t+ '\t\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t<div class=\"form-group\">'\n\t\t\t\t\t\t+ '\t\t\t\t<label class=\"col-md-4 control-label\">'+args.trans.headers.sell_modifier+'</label>'\n\t\t\t\t\t\t+ '\t\t\t\t<div class=\"col-md-8\">'\n\t\t\t\t\t\t+ '\t\t\t\t\t<input class=\"form-control\" type=\"number\" name=\"sellModifier\" min=\"0\" step=\"0.01\" value=\"'+(data[0].sellModifier)+'\">'\n\t\t\t\t\t\t+ '\t\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t</div>'\n\t\t\t\t\t\t+ (data.count() == 1 ?\n\t\t\t\t\t\t  '\t\t\t<div class=\"form-group\">'\n\t\t\t\t\t\t+ '\t\t\t\t<label class=\"col-md-4 control-label\">'+args.trans.headers.sell_price+'</label>'\n\t\t\t\t\t\t+ '\t\t\t\t<div class=\"col-md-8\">'\n\t\t\t\t\t\t+ '\t\t\t\t\t<input class=\"form-control\" type=\"number\" name=\"sellPrice\" min=\"0\" value=\"'+(data[0].sellPrice)+'\">'\n\t\t\t\t\t\t+ '\t\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t</div>' : '')\n\t\t\t\t\t\t+ '\t\t\t<div class=\"form-group\">'\n\t\t\t\t\t\t+ '\t\t\t\t<label class=\"col-md-4 control-label\">'+args.trans.headers.item_settings+'</label>'\n\t\t\t\t\t\t+ '\t\t\t\t<div class=\"col-md-8\">'\n\t\t\t\t\t\t+ '\t\t\t\t\t<div class=\"checkbox\"><label><input type=\"checkbox\" name=\"lockPrices\"'+(data[0].lockPrices ? ' checked' : '')+'>'+args.trans.messages.lock_prices+'</label></div>'\n\t\t\t\t\t\t+ '\t\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t</form>'\n\t\t\t\t\t\t+ '\t</div>'\n\t\t\t\t\t\t+ '</div>'\n\t\t\t\t\t;\n\n\t\t\t\t\tbootbox.dialog({\n\t\t\t\t\t\tmessage: form,\n\t\t\t\t\t\ttitle: title,\n\t\t\t\t\t\tbuttons: {\n\t\t\t\t\t\t\tcancel: {\n\t\t\t\t\t\t\t\tlabel: args.trans.buttons.cancel,\n\t\t\t\t\t\t\t\tclassName: \"btn-default\",\n\t\t\t\t\t\t\t\tcallback: function() {\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tupdate: {\n\t\t\t\t\t\t\t\tlabel: args.trans.buttons.edit,\n\t\t\t\t\t\t\t\tclassName: \"btn-success\",\n\t\t\t\t\t\t\t\tcallback: function() {\n\t\t\t\t\t\t\t\t\tvar form   = $(\"#manage-form-update-items\");\n\t\t\t\t\t\t\t\t\tvar button = table.button(3);\n\n\t\t\t\t\t\t\t\t\tbutton.enable(false);\n\t\t\t\t\t\t\t\t\tbutton.text('<span class=\"fa fa-spinner fa-spin\"></span> ' + args.trans.buttons.edit);\n\n\t\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\t\t\t\t\t\turl: args.actions.editItems,\n\t\t\t\t\t\t\t\t\t\tdata: form.serialize(),\n\n\t\t\t\t\t\t\t\t\t\tsuccess: function(response) {\n\t\t\t\t\t\t\t\t\t\t\t$.notify(response.message, {className: 'success'});\n\n\t\t\t\t\t\t\t\t\t\t\tbutton.enable(true);\n\t\t\t\t\t\t\t\t\t\t\tbutton.text(args.trans.buttons.edit);\n\n\t\t\t\t\t\t\t\t\t\t\tdt.ajax.reload();\n\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\terror: function(request, status, error) {\n\t\t\t\t\t\t\t\t\t\t\tvar response = JSON.parse(request.responseText);\n\n\t\t\t\t\t\t\t\t\t\t\t$.notify(response.message, {className: 'error'});\n\n\t\t\t\t\t\t\t\t\t\t\tbutton.enable(true);\n\t\t\t\t\t\t\t\t\t\t\tbutton.text(args.trans.buttons.edit);\n\n\t\t\t\t\t\t\t\t\t\t\tdt.ajax.reload();\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tenabled: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttext: args.trans.buttons.remove,\n\t\t\t\taction: function (e, dt, node, config) {\n\t\t\t\t\tvar data  = table.rows('.selected').data();\n\t\t\t\t\tvar types = \"\";\n\n\t\t\t\t\t$.each(data, function (index, item) {\n\t\t\t\t\t\ttypes += item.typeID + \",\";\n\t\t\t\t\t}); types  = types.substr(0, types.length - 1);\n\n\t\t\t\t\tvar message = args.trans.messages.remove_items_confirm.split('|')[data.count() == 1 ? 0 : 1];\n\t\t\t\t\tvar title   = args.trans.messages.remove_items        .split('|')[data.count() == 1 ? 0 : 1];\n\n\t\t\t\t\tbootbox.dialog({\n\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\ttitle: title,\n\t\t\t\t\t\tbuttons: {\n\t\t\t\t\t\t\tcancel: {\n\t\t\t\t\t\t\t\tlabel: args.trans.buttons.cancel,\n\t\t\t\t\t\t\t\tclassName: \"btn-default\",\n\t\t\t\t\t\t\t\tcallback: function() {\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tremove: {\n\t\t\t\t\t\t\t\tlabel: args.trans.buttons.remove,\n\t\t\t\t\t\t\t\tclassName: \"btn-danger\",\n\t\t\t\t\t\t\t\tcallback: function() {\n\t\t\t\t\t\t\t\t\tvar button = table.button(4);\n\n\t\t\t\t\t\t\t\t\tbutton.enable(false);\n\t\t\t\t\t\t\t\t\tbutton.text('<span class=\"fa fa-spinner fa-spin\"></span> ' + args.trans.buttons.remove);\n\n\t\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\t\t\t\t\t\turl: args.actions.removeItems,\n\t\t\t\t\t\t\t\t\t\tdata: {_token: args.token, types: types},\n\n\t\t\t\t\t\t\t\t\t\tsuccess: function(response) {\n\t\t\t\t\t\t\t\t\t\t\t$.notify(response.message, {className: 'success'});\n\n\t\t\t\t\t\t\t\t\t\t\tbutton.enable(true);\n\t\t\t\t\t\t\t\t\t\t\tbutton.text(args.trans.buttons.remove);\n\n\t\t\t\t\t\t\t\t\t\t\tdt.ajax.reload();\n\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\terror: function(request, status, error) {\n\t\t\t\t\t\t\t\t\t\t\tvar response = JSON.parse(request.responseText);\n\n\t\t\t\t\t\t\t\t\t\t\t$.notify(response.message, {className: 'error'});\n\n\t\t\t\t\t\t\t\t\t\t\tbutton.enable(true);\n\t\t\t\t\t\t\t\t\t\t\tbutton.text(args.trans.buttons.remove);\n\n\t\t\t\t\t\t\t\t\t\t\tdt.ajax.reload();\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tenabled: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttext: args.trans.buttons.update_prices,\n\t\t\t\taction: function (e, dt, node, config) {\n\t\t\t\t\tvar button = table.button(5);\n\n\t\t\t\t\tbutton.enable(false);\n\t\t\t\t\tbutton.text('<span class=\"fa fa-spinner fa-spin\"></span> ' + args.trans.buttons.update_prices);\n\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\t\turl: args.actions.updateItems,\n\t\t\t\t\t\tdata: {_token: args.token},\n\n\t\t\t\t\t\tsuccess: function(response) {\n\t\t\t\t\t\t\t$.notify(response.message, {className: 'success'});\n\n\t\t\t\t\t\t\tbutton.enable(true);\n\t\t\t\t\t\t\tbutton.text(args.trans.buttons.update_prices);\n\n\t\t\t\t\t\t\tdt.ajax.reload();\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\terror: function(request, status, error) {\n\t\t\t\t\t\t\tvar response = JSON.parse(request.responseText);\n\n\t\t\t\t\t\t\t$.notify(response.message, {className: 'error'});\n\n\t\t\t\t\t\t\tbutton.enable(true);\n\t\t\t\t\t\t\tbutton.text(args.trans.buttons.update_prices);\n\n\t\t\t\t\t\t\tdt.ajax.reload();\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tenabled: true,\n\t\t\t},\n\t\t],\n\t});\n\n\t$(\".dt-buttons\").addClass   (\"btn-group\"      );\n\t$(\".dt-button\" ).addClass   (\"btn btn-default\");\n\t$(\".dt-button\" ).removeClass(\"dt-button\"      );\n\n\tvar tableEventFunction = function (e, dt, type, indexes) {\n\t\tvar selectedRows = table.rows({selected: true}).count();\n\n\t\ttable.button(3).enable(selectedRows >= 1); // Edit\n\t\ttable.button(4).enable(selectedRows >= 1); // Remove\n\t};\n\n\ttable.on(\"select\"  , tableEventFunction);\n\ttable.on(\"deselect\", tableEventFunction);\n\ttable.on(\"draw\"    , tableEventFunction);\n};\n"],"sourceRoot":"/source/"}